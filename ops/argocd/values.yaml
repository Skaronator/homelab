configs:
  cm:
    kustomize.buildOptions: --enable-helm
  params:
    # needs to be insecure due to the gRPC ingress.
    # We do TLS termination with our ingress so everything is still secure
    server.insecure: "true" 

server:
  ingress:
    enabled: true
    ingressClassName: nginx-private
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/backend-protocol: HTTPS
      gethomepage.dev/enabled: "true"
      gethomepage.dev/group: Server
      gethomepage.dev/name: ArgoCD
      gethomepage.dev/description: Kubernetes Deployments
      gethomepage.dev/icon: argocd.svg
      gethomepage.dev/weight: "1"
    hostname: argocd.wagner.gg
    extraTls:
    - secretName: argocd.wagner.gg
      hosts:
      - argocd.wagner.gg
  ingressGrpc:
    enabled: true
    ingressClassName: nginx-private
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/backend-protocol: GRPC
    hostname: grpc.argocd.wagner.gg
    extraTls:
    - secretName: grpc.argocd.wagner.gg
      hosts:
      - grpc.argocd.wagner.gg
