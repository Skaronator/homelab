image:
  repository: "kylemanna/bitcoind"
  tag: "latest@sha256:47f4596c3534b2334ca09bc4109068ebb8663b6b405c5fc03a9e00aff57340c3"

command:
- "bitcoind"

args:
# basic
- "-server=1"
- "-disablewallet=0"
- "-txindex=1"
- "-blockfilterindex=1"
# rpc
- "-rpcbind=:8332"
- "-rpcallowip=0.0.0.0/0"
- "-zmqpubrawtx=tcp://0.0.0.0:28332"
- "-zmqpubrawblock=tcp://0.0.0.0:28333"

hostPaths:
- name: data
  hostPath: /srv/nvme/scrap-data/bitcoin
  containerPath: /bitcoin/.bitcoin

ports: 
- name: rpc
  containerPort: 8332
- name: p2p
  containerPort: 8333
- name: zmqtx
  containerPort: 28332
- name: zmqblock
  containerPort: 28333

health:
  port: rpc
  type: TCP
