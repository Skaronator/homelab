image:
  repository: "tomsquest/docker-radicale"
  tag: "3.1.9.1"

hostPaths:
- name: data
  hostPath: /srv/nvme/container-data/radicale
  containerPath: /data

ports: 
- name: main
  containerPort: 5232

ingress:
  host: radicale.wagner.gg

configMaps:
- name: config
  mountPath: /config
  subPath: config
  content: |
    [server]
    hosts = 0.0.0.0:5232

    [auth]
    type = htpasswd
    htpasswd_encryption = bcrypt
    htpasswd_filename = /config/htpasswd
    delay = 5

    [storage]
    type = multifilesystem
    filesystem_folder = /data

    [rights]
    type = owner_only

    [web]
    type = internal

    [logging]
    level = info
    mask_passwords = True
    profiling = True

- name: htpasswd
  mountPath: /config
  subPath: htpasswd
  content: |
    niklas:$2y$11$WSR5tSsmULHeQllnJbjry.rdmQD1Zh5FVlOWGA00P.tHo/zwjr7Gy
