image:
  repository: "docker.io/skaronator/radicale"
  tag: "profiling-3"

hostPaths:
- name: data
  hostPath: /srv/nvme/container-data/radicale
  containerPath: /data

ports: 
- name: main
  containerPort: 5232

ingress:
  host: radicale.wagner.gg
  # public: true
  # publicPath: /dav.php

# homepage:
#   name: Baikal
#   group: Organization
#   description: Lightweight CalDAV+CardDAV server
#   icon: baikal.png
#   weight: 30

configMaps:
- name: config
  mountPath: /config
  subPath: config
  content: |
    [server]
    hosts = 0.0.0.0:5232

    [auth]
    type = htpasswd
    htpasswd_encryption = bcrypt
    htpasswd_filename = /config/htpasswd
    delay = 5

    [storage]
    type = multifilesystem
    filesystem_folder = /data

    [rights]
    type = owner_only

    [web]
    type = internal

    [logging]
    level = info
    mask_passwords = True
    profiling = True

- name: htpasswd
  mountPath: /config
  subPath: htpasswd
  content: |
    niklas:$apr1$hci4jgdl$OAoTUVwEQQbVHoGe2qQt/.
